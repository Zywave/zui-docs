(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{189:function(e,t,s){"use strict";t.a={name:"VueRemarkRoot",render:function(e){return e("div",null,this.$slots.default)}}},231:function(e,t,s){"use strict";s.r(t);var a=s(1),n=s(189),o=s(0);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o.a.config.optionMergeStrategies;var l={VueRemarkRoot:n.a},p=function(e){var t=e.options.components=e.options.components||{},s=e.options.computed=e.options.computed||{};Object.keys(l).forEach((function(e){"object"===r(l[e])&&"function"==typeof l[e].render?t[e]=l[e]:s[e]=function(){return l[e]}}))},i=o.a.config.optionMergeStrategies,c="__vueRemarkFrontMatter",v={excerpt:null,title:"Contribution",parentIdentifier:"developers",weight:3};var u=function(e){e.options[c]&&(e.options[c]=v),o.a.util.defineReactive(e.options,c,v),e.options.computed=i.computed({$frontmatter:function(){return e.options[c]}},e.options.computed)},_=Object(a.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("VueRemarkRoot",[s("Tabs",{attrs:{tabs:["Developing ZUI","Contribution guide"]}},[s("TabPage",[s("h2",[e._v("Initialization")]),s("ol",[s("li",[s("code",{pre:!0},[e._v("cd ${insert path to root of ZUI here}")])]),s("li",[s("code",{pre:!0},[e._v("yarn install")]),s("ul",[s("li",[e._v("This one takes awhile. Sorry.")])])]),s("li",[s("code",{pre:!0},[e._v("yarn run bootstrap")]),s("ul",[s("li",[e._v("Using a tool called lerna, we do some really cool stuff to get the monorepo to play nicely with ZUI-to-ZUI dependencies.")])])]),s("li",[s("code",{pre:!0},[e._v("yarn run build")]),s("ul",[s("li",[e._v("Runs through every package defined in the monorepo and executes their "),s("code",{pre:!0},[e._v('"build"')]),e._v(" script as defined in their respective "),s("code",{pre:!0},[e._v("package.json")]),e._v(" file.")])])])]),s("hr"),s("h2",[e._v("Creating a component")]),s("p",[e._v("If you're creating a new web component (e.g. "),s("code",{pre:!0},[e._v("<zui-my-element>")]),e._v("), feel free to use the built-in ZUI component generator.")]),s("p",[s("strong",[e._v("Note:")]),e._v(" This assumes you have yeoman installed ("),s("code",{pre:!0},[e._v("npm i -g yo")]),e._v(")")]),s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",{pre:!0,attrs:{class:"language-shell"}},[s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("yarn")]),e._v(" run generate:wc")])]),s("p",[e._v("This will give you:")]),s("ul",[s("li",[e._v("a new package defined under packages/components/\\${elementName}")]),s("li",[e._v("a src/ directory"),s("ul",[s("li",[e._v("includes a sample element to get the ball rolling")]),s("li",[e._v("a package.json to define the package, and various commands to compile, build and start the lab demo")]),s("li",[e._v("a tsconfig.build.json to compile typescript")])])]),s("li",[e._v("a lab"),s("ul",[s("li",[e._v("stored in the index.html file")]),s("li",[e._v("can be started up with "),s("code",{pre:!0},[e._v("yarn run watch")]),e._v(" (requires the working directory to be inside your new component's folder)")])])])]),s("p",[s("strong",[e._v("Common gotcha:")]),e._v(" If you're adding more elements to the same package, be sure to add an import statement to the index.js file!")]),s("p",[s("strong",[e._v("Add new component to "),s("code",{pre:!0},[e._v("zui-components-all")]),e._v(":")]),e._v(" For your component to be recognized by "),s("code",{pre:!0},[e._v("zui-bundle")]),e._v(" please add to "),s("code",{pre:!0},[e._v("zui-components-all")]),e._v("'s "),s("code",{pre:!0},[e._v("package.json")]),e._v(" by running the following command from the root of ZUI; update "),s("code",{pre:!0},[e._v("zui-new-component-name")]),e._v(" with your component's name, i.e. "),s("code",{pre:!0},[e._v("zui-breadcrumbs")])]),s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",{pre:!0,attrs:{class:"language-shell"}},[s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" npx lerna "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("add")]),e._v(" @zywave/zui-new-component-name --scope"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("@zywave/zui-components-all")])]),s("p",[s("strong",[e._v("Also add new component to "),s("code",{pre:!0},[e._v("zui-bundle")])]),e._v(": Since "),s("code",{pre:!0},[e._v("zui-components-all")]),e._v(" is a dependency of "),s("code",{pre:!0},[e._v("zui-bundle")]),e._v(", you simply need to manually add a line to import your new component package into "),s("code",{pre:!0},[e._v("/packages/misc/zui-bundle/src/zui-bundle.js")]),e._v(". Also add your component's FOUC styles into "),s("code",{pre:!0},[e._v("/packages/misc/zui-bundle/src/css/zui-bundle.fouc.scss")]),e._v(" too")]),s("Spacer",{attrs:{size:"small"}}),s("h3",[e._v("Creating an experimental component")]),s("p",[e._v("If the component you are creating has yet to be approved as a ZUI component, it is considered an experimental component. "),s("strong",[e._v("All experimental components must be added to the "),s("code",{pre:!0},[e._v("exp")]),e._v(" branch.")]),e._v(" Follow all instructions in the Creating a component section, but make sure you are branching off the "),s("code",{pre:!0},[e._v("exp")]),e._v(" branch instead of the "),s("code",{pre:!0},[e._v("dev")]),e._v(" branch.")]),s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",{pre:!0,attrs:{class:"language-shell"}},[s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" fetch origin\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" checkout -t origin/exp\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" checkout -b new-branch-name")])]),s("hr"),s("h2",[e._v("Creating a CSS package")]),s("p",[e._v("If you want to create a new CSS package, the provided template should help get the ball rolling.")]),s("p",[s("strong",[e._v("Note:")]),e._v(" This assumes you have yeoman installed ("),s("code",{pre:!0},[e._v("npm i -g yo")]),e._v(")")]),s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",{pre:!0,attrs:{class:"language-shell"}},[s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("yarn")]),e._v(" run generate:styles")])]),s("p",[e._v("This will give you:")]),s("ul",[s("li",[e._v("a new package defined under packages/styles/\\${cssPackageName}")]),s("li",[e._v("a src/ directory"),s("ul",[s("li",[e._v("includes sample .scss files to get the ball rolling")]),s("li",[e._v("a package.json to define the package")]),s("li",[e._v("a gulpfile to handle building, demoing, etc.")])])]),s("li",[e._v("a lab"),s("ul",[s("li",[e._v("stored in the index.html file")]),s("li",[e._v("can be started up with "),s("code",{pre:!0},[e._v("npx gulp watch")]),e._v(" (requires the working directory to be inside your new packages's folder)")])])])]),s("p",[e._v("Be sure to follow "),s("a",{attrs:{href:"./getting-started/contributing/#sass-css"}},[e._v("the style guide")]),e._v("!")]),s("hr"),s("h2",[e._v("Style guide")]),s("h3",[e._v("JavaScript")]),s("p",[e._v("For the most part, we use prettier and eslint to help you out here. You shouldn't have to worry about anything; we even have a precommit hook set up to auto format / validate your code.")]),s("p",[e._v("For you vscode users, here are some recommendations to keep you in sync:")]),s("ul",[s("li",[s("a",{attrs:{href:"https://github.com/prettier/prettier-vscode"}},[e._v("prettier-vscode")]),e._v(".")]),s("li",[e._v("set "),s("code",{pre:!0},[e._v('"editor.formatOnSave"')]),e._v(" to "),s("code",{pre:!0},[e._v("true")]),e._v(" in File > Preferences > Settings")])]),s("Spacer",{attrs:{size:"small"}}),s("h3",[e._v("Sass/CSS")]),s("p",[e._v("Coming soon!")]),s("Spacer",{attrs:{size:"small"}}),s("h3",[e._v("Web components")]),s("h4",[e._v("Attributes")]),s("p",[e._v("HTML has some pretty wild variations when it comes to attribute names. You're most likely to see hyphenated (e.g. "),s("code",{pre:!0},[e._v("data-prop")]),e._v(") and all-lowercase, single word (e.g. "),s("code",{pre:!0},[e._v("tabindex")]),e._v("). And with custom elements becoming mainstream, be ready to see other crazy attributes like "),s("code",{pre:!0},[e._v("snake_case")]),e._v(" and the all-too-familiar "),s("code",{pre:!0},[e._v("camelCase")]),e._v(". Here at ZUI, we like to enforce some standards. So, please use hyphenated, all-lowercase attributes.")]),s("p",[e._v("Example:")]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",{pre:!0,attrs:{class:"language-js"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("class")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("MyElement")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("extends")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("HTMLElement")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("static")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("get")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("observedAttributes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("return")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"my-property"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("get")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("myProperty")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("return")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token method function property-access"}},[e._v("getAttribute")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"my-property"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")])])]),s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",{pre:!0,attrs:{class:"language-html"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("my-element")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("my-property")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')]),e._v("good!"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("my-element")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])])])]),s("p",[e._v("This requires some work on ZUI's end. If extending PolymerElement, this behavior is baked in. However, if extending LitElement (or ZuiBaseElement), you'll have to do something like the following:")]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",{pre:!0,attrs:{class:"language-js"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("class")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("MyElement")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("extends")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("LitElement")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  @"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v(" attribute"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"my-property"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" type"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token known-class-name class-name"}},[e._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" reflect"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("true")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n  myProperty "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword nil"}},[e._v("undefined")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("/* more stuff here */")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")])])]),s("h4",[e._v("Public and private")]),s("p",[e._v("JavaScript is not the most obvious language when trying to do OOP. But, with ES6 classes, people have tried to get closer to actual OOP paradigms. One of the ways this is accomplished is by being explicit in your property and method declarations. You'll see this principles in practice in our web component libraries of choice, lit-html/lit-element.")]),s("p",[e._v("Public:")]),s("ul",[s("li",[e._v("methods: "),s("code",{pre:!0},[e._v("camelCase()")])]),s("li",[e._v("properties: "),s("code",{pre:!0},[e._v("camelCase")])])]),s("p",[e._v("Private:")]),s("ul",[s("li",[e._v("methods: "),s("code",{pre:!0},[e._v("_camelCase()")])]),s("li",[e._v("properties: "),s("code",{pre:!0},[e._v("_camelCase")])])]),s("h4",[e._v("Custom CSS properties")]),s("p",[e._v("With ZUI, one of the main ways for a consumer to manipulate a component is via CSS Custom Properties. If you are unsure what we mean by that, checkout "),s("a",{attrs:{href:"../developers/web-components#css-variablescustom-properties"}},[e._v("our documentation")]),e._v(". All of our custom CSS properties should look like the following:")]),s("pre",{pre:!0,attrs:{class:"language-css"}},[s("code",{pre:!0,attrs:{class:"language-css"}},[s("span",{pre:!0,attrs:{class:"token selector"}},[s("span",{pre:!0,attrs:{class:"token pseudo-class"}},[e._v(":host")])]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("--zui-my-element-color")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token color"}},[e._v("hotpink")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")])])]),s("ol",[s("li",[e._v("We namespace the property to ZUI (don't want to clash with others)")]),s("li",[e._v("We then scope it to the proper custom element")]),s("li",[e._v("And finally we indicate what the intent of the property is")])]),s("p",[e._v("So, this variable specifies a color for "),s("code",{pre:!0},[e._v("<zui-my-element>")]),e._v(" to be used in its CSS.")]),s("h4",[e._v("What the FOUC?")]),s("p",[e._v("One caveat to custom elements is the way in which the browser will render them. Let's give a really basic (contrived) example:")]),s("ol",[s("li",[e._v("User navigates to "),s("a",{attrs:{href:"https://www.example.com/"}},[e._v("https://www.example.com/")])]),s("li",[e._v("Browser loads HTML on this page, stopping to load stylesheets, scripts, etc.")]),s("li",[e._v("Browser renders what it can")]),s("li",[e._v("Browser begins to compile and execute JavaScript")]),s("li",[e._v("Application is fully loaded")])]),s("p",[e._v('Custom elements require JavaScript to be processed in order for the HTML elements to be rendered properly. Browsers have opted to "defer" custom element rendering until step 4 (not with step 3). This is great for SEO as the first contentful paint can happen sooner; this is unfortunate for custom elements as it means that '),s("code",{pre:!0},[e._v("<my-element></my-element>")]),e._v(" will get rendered based off of some very old HTML rendering rules around unknown or invalid HTML. Then, the next couple of frames will start to upgrade the custom elements and saturate the content. It's worth stressing that this is still very fast; and for you SPA folks out there, this will definitely not be noticeable prior to your app fully loading (you have a lot more JavaScript to process and execute, believe us). But for you server-side-rendering folks, this WILL be noticeable.")]),s("p",[e._v("What we've just described is known as FOUC: "),s("span",{staticStyle:{"text-decoration":"underline"}},[e._v("F")]),e._v("lash "),s("span",{staticStyle:{"text-decoration":"underline"}},[e._v("O")]),e._v("f "),s("span",{staticStyle:{"text-decoration":"underline"}},[e._v("U")]),e._v("nstyled "),s("span",{staticStyle:{"text-decoration":"underline"}},[e._v("C")]),e._v("ontent.")]),s("p",[e._v("We here at ZUI want to help you, no matter what way you deliver HTML content to our users. So, as part of our process of maintaining ZUI, we've come up with a solution. In all of our components, there will be an extra bit of CSS you can choose to load: "),s("code",{pre:!0},[e._v("dist/css/zui-*.fouc.css")]),e._v(". This CSS package will define some styles that, when loaded, will help the browser style your undefined elements until they are saturated and upgraded. There is one caveat to this, and it's in the form of Internet Explorer (yay!). If you care about your elements at load time to not encounter this flash, you will need to sprinkle "),s("code",{pre:!0},[e._v("unresolved")]),e._v(" attributes on your ZUI components. This attribute will help to mimic what vanilla custom elements have provided us, the "),s("code",{pre:!0},[e._v(":defined")]),e._v(" pseudoselector. We use this (via "),s("code",{pre:!0},[e._v(":not(:defined)")]),e._v(") to out of the box handle displaying a button that looks like, well, a button, even if it hasn't been upgraded yet. The unresolved attribute is "),s("em",[e._v("technically")]),e._v(" slower than what the browser can provide, but probably barely noticeable to the naked eye.")]),s("p",[e._v("So, if you decide to contribute to ZUI in the way of custom elements, please be sure to provide some FOUC styles if relevant. You can even use our handy dandy SASS mixin found in "),s("code",{pre:!0},[e._v("zui-sass-scripts")]),e._v(":")]),s("pre",{pre:!0,attrs:{class:"language-scss"}},[s("code",{pre:!0,attrs:{class:"language-scss"}},[s("span",{pre:!0,attrs:{class:"token selector"}},[e._v("my-element ")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("@include")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token selector"}},[e._v("undefined-element ")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[e._v("display")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" none"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// no my-element for you!")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")])])]),s("p",[s("strong",[e._v("Pro tip #1:")]),e._v(" Need to test your FOUC styles? Before your components get loaded in "),s("code",{pre:!0},[e._v("<script>")]),e._v(" tags, just add the following:")]),s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",{pre:!0,attrs:{class:"language-html"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),s("span",{pre:!0,attrs:{class:"token script"}},[s("span",{pre:!0,attrs:{class:"token language-javascript"}},[e._v("\n  "),s("span",{pre:!0,attrs:{class:"token dom variable"}},[e._v("window")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token property-access"}},[e._v("customElements")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token method-variable function-variable method function property-access"}},[e._v("define")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("function")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("/* lel we hijacked custom element registration */")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])])])]),s("p",[s("strong",[e._v("Pro tip #2:")]),e._v(" Have multiple FOUC stylesheets you're loading? Combine them into one with the power of SASS!")]),s("pre",{pre:!0,attrs:{class:"language-scss"}},[s("code",{pre:!0,attrs:{class:"language-scss"}},[s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// fouc.scss")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("@import")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"node_modules/@zywave/zui-button/dist/css/zui-button.fouc.css"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("@import")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"node_modules/@zywave/zui-dialog/dist/css/zui-dialog.fouc.css"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("@import")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"node_modules/@zywave/zui-icons/dist/css/zui-icons.fouc.css"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("@import")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"node_modules/@zywave/zui-shell/dist/css/zui-shell.fouc.css"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// output as single CSS file")])])]),s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",{pre:!0,attrs:{class:"language-html"}},[s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("\x3c!-- link in head of your HTML document --\x3e")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token doctype"}},[e._v("<!DOCTYPE html>")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("html")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("lang")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')]),e._v("en"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("head")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("link")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("rel")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')]),e._v("stylesheet"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')])]),e._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("src")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')]),e._v("fouc.css"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')])]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("/>")])]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("head")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n  ...\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("html")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])])])]),s("hr"),s("h2",[e._v("Troubleshooting")]),s("p",[e._v("This monorepo can be quite a beast to work in. If you find yourself in some weird scenarios, here's some possible steps that might help.")]),s("h3",[e._v("Merge conflicts and yarn:")]),s("p",[e._v("Just don't worry about merge conflicts in the yarn.lock file. It's not worth it.")]),s("ol",[s("li",[e._v("Mark as resolved")]),s("li",[e._v("Delete it")]),s("li",[s("code",{pre:!0},[e._v("yarn install")]),e._v(" to recreate it")]),s("li",[e._v("Add the new yarn.lock file to your commit and carry on")])]),s("Spacer",{attrs:{size:"small"}}),s("h3",[e._v('The "Burn it with fire" approach:')]),s("zui-well",{attrs:{type:"warning"}},[s("strong",[e._v("Note:")]),e._v(" Do NOT delete the yarn.lock file. This file is very important for stability of the monorepo, especially zui-bundle.\n")]),s("ol",[s("li",[e._v("Delete node_modules/"),s("ul",[s("li",[e._v("This one takes awhile, I'm sorry")]),s("li",[e._v("Shift + Delete on the folder in File Explorer to skip the recycle bin")])])]),s("li",[s("code",{pre:!0},[e._v("yarn install")])]),s("li",[s("code",{pre:!0},[e._v("yarn run bootstrap")])]),s("li",[s("code",{pre:!0},[e._v("yarn run build")])])]),s("p",[e._v("If you'd rather not have to type this out explicitly, you can run the following:")]),s("p",[s("em",[e._v("Windows")]),e._v(":")]),s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",{pre:!0,attrs:{class:"language-shell"}},[s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("yarn")]),e._v(" run nuke:windows")])]),s("p",[s("em",[e._v("Linux:")])]),s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",{pre:!0,attrs:{class:"language-shell"}},[s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("yarn")]),e._v(" run nuke:nix")])]),s("p",[s("strong",[e._v("Note:")]),e._v(" This still will take a while.")])],1),s("TabPage",[s("p",[e._v("ZUI has a series of automated systems that ensure we are able to easily release packages whenever we need to, and properly communicate the impact of those changes to developers. For this to work properly, we have some rules around how to help.")]),s("Spacer"),s("h2",[e._v("Branching")]),s("p",[e._v("ZUI operates with two main branches in mind:")]),s("ol",[s("li",[e._v("dev:"),s("ul",[s("li",[e._v("This branch should always be in a state where it can reasonably be merged into master and ready to go at any time. All active development should be done to branches made off of dev.")]),s("li",[e._v("No code push should ever be made direct to dev. Only merges.")]),s("li",[e._v("Prerelease versions (suffixed with "),s("code",{pre:!0},[e._v("-pre")]),e._v(") are created out of this branch.")])])]),s("li",[e._v("master:"),s("ul",[s("li",[e._v("This branch is always the stable version of ZUI. Full stable releases are made out of this branch.")]),s("li",[e._v("Only merges from dev are allowed to get changes into master.")])])]),s("li",[e._v("other branches:"),s("ul",[s("li",[e._v('Call them something easy to understand (not just "fix-stuff")')]),s("li",[e._v("Delete them when they are merged into dev (no need for other persistent branches)")])])])]),s("hr"),s("h2",[e._v("Commiting")]),s("p",[e._v("ZUI uses lerna for CI operations across the entire monorepo. There's two things to note:")]),s("ol",[s("li",[e._v("On commit, a precommit hook is executed that will lint (and fix if possible) all staged files about to be committed."),s("ul",[s("li",[e._v("JS: uses eslint + prettier")]),s("li",[e._v("CSS/SCSS: uses stylelint + prettier")]),s("li",[e._v("If the linter doesn't run, and you have formatting or linting errors, the CI will fail")])])]),s("li",[e._v("On versioning, commit messages are evaluated by lerna's hook with conventional-changelog to autoincrement versions"),s("ul",[s("li",[e._v("This is super important, and is something you should actively follow to help keep the versions and CHANGELOGs up-to-date")])])])]),s("Spacer",{attrs:{size:"small"}}),s("h3",[e._v("Conventional commits")]),s("p",[s("em",[e._v("Recommended links")]),e._v(":")]),s("ul",[s("li",[s("a",{attrs:{href:"https://www.conventionalcommits.org/en/v1.0.0-beta.4/"}},[e._v("Conventional commits")])]),s("li",[s("a",{attrs:{href:"https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit"}},[e._v("Angular commit standards")])])]),s("p",[e._v("All commits should look like the following:")]),s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",{pre:!0,attrs:{class:"language-shell"}},[s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("type"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("scope"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(": "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("subject"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("BLANK LINE"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("body"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("BLANK LINE"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("footer"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")])])]),s("p",[e._v("The most important part, for us, is type (which is parsed from the commit message).")]),s("p",[e._v("✔ Good:")]),s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",{pre:!0,attrs:{class:"language-shell"}},[s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" commit -m "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"chore: fixing some ci issues"')]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(' commit -m "feat: wells now support '),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'dismissible'")]),e._v(" feature")])]),s("p",[e._v("❌ Bad:")]),s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",{pre:!0,attrs:{class:"language-shell"}},[s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" commit -m "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"pat is dumb"')]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" commit -m "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Updating index.js"')])])]),s("p",[e._v("If you want to have an easy template for all ZUI commit messages, you can actually execute the following to the root of the repository:")]),s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",{pre:!0,attrs:{class:"language-shell"}},[s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" config --local commit.template "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"./.gitmessage"')])])]),s("p",[e._v("Now, when you try to make a commit, you'll get a prompt to fill in the commit details with more information regarding your changes. This also works with git UI tools, like GitKraken.")]),s("Spacer",{attrs:{size:"small"}}),s("h3",[e._v("Conventional changelog")]),s("p",[s("em",[e._v("Recommended links")]),e._v(":")]),s("ul",[s("li",[s("a",{attrs:{href:"https://github.com/conventional-changelog/conventional-changelog/"}},[e._v("Conventional changelog")])])]),s("p",[e._v("Based off of your commit messages, lerna + conventional-changelog will do a diff between the last version of a given package and the currently releasing changes, and figure out the proper version.")]),s("p",[e._v("ZUI 4.x is what we're currently on, and we plan to keep it that way until something shinier comes along. So, ZUI uses a slight fork of "),s("a",{attrs:{href:"https://github.com/conventional-changelog/conventional-changelog/tree/master/packages/conventional-changelog-angular"}},[e._v("conventional-changelog-angular")]),e._v(" which lets us pin down the major version, and sticks us in the minor and patch increments for all updates. You can see the source code for our version here: "),s("a",{attrs:{href:"https://gitlab.zywave.com/zui/zui/tree/dev/scripts/packages/conventional-changelog-zui"}},[e._v("https://gitlab.zywave.com/zui/zui/tree/dev/scripts/packages/conventional-changelog-zui")]),e._v(".")]),s("Spacer",{attrs:{size:"small"}}),s("h4",[e._v("How ZUI currently versions itself (in descending priority):")]),s("ol",[s("li",[e._v("If the commit contains "),s("code",{pre:!0},[e._v("BREAKING CHANGE: <reason>")]),e._v(" in the body, we will bump the minor version (4.1.6 => 4.2.0)\n"),s("zui-well",{attrs:{type:"warning",static:""}},[e._v("\nYou won't be able to commit using "),s("code",{pre:!0},[e._v("git commit -m")]),e._v(" because this only accepts a subject line. Instead, use "),s("code",{pre:!0},[e._v("git commit")]),e._v(", which will prompt your Git default text editor to open so you can include a body message.\n")])],1),s("li",[e._v("If the commit subject starts with "),s("code",{pre:!0},[e._v("feat:")]),e._v(", "),s("code",{pre:!0},[e._v("fix:")]),e._v(", or "),s("code",{pre:!0},[e._v("perf:")]),e._v(", we'll do a patch (unless the body also includes "),s("code",{pre:!0},[e._v("BREAKING CHANGE: <reason>")]),e._v(")")]),s("li",[e._v("If the commit subject starts with "),s("code",{pre:!0},[e._v("chore:")]),e._v(", "),s("code",{pre:!0},[e._v("build:")]),e._v(", "),s("code",{pre:!0},[e._v("docs:")]),e._v(", "),s("code",{pre:!0},[e._v("refactor:")]),e._v(", "),s("code",{pre:!0},[e._v("ci:")]),e._v(", "),s("code",{pre:!0},[e._v("style:")]),e._v(", or "),s("code",{pre:!0},[e._v("test:")]),e._v(" we'll do nothing with the version (but include the notes in the CHANGELOG)")]),s("li",[e._v("If you don't follow the rules, we won't do anything. Hopefully you didn't change anything meaningful.")])]),s("Spacer",{attrs:{size:"small"}}),s("h5",[e._v("How to commit a breaking change to ZUI")]),s("p",[e._v("If you are not using a GUI, follow the instructions below on how to commit a breaking change via command line.")]),s("ol",[s("li",[e._v("In command prompt, stage all your breaking changes first and then type "),s("code",{pre:!0},[e._v("git commit")]),e._v(" and press the "),s("code",{pre:!0},[e._v("<enter>")]),e._v(" key:")])]),s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",{pre:!0,attrs:{class:"language-shell"}},[s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" commit")])]),s("ol",[s("li",[e._v("Your default Git text editor will open and prompt you to provide a commit message. The first line will always be your subject and any lines following will be the body:")])]),s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",{pre:!0,attrs:{class:"language-shell"}},[e._v("feat: removed app name slots from zui-shell\n\nBREAKING CHANGE: removed the slots "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"app"')]),e._v(" from zui-shell-topbar\nand zui-shell-nav "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("in")]),e._v(" favor of the attribute app-name on zui-shell")])]),s("ol",[s("li",[e._v("After you have entered your message, all you need to do is save and close the file for Git to commit your changes.")])]),s("Spacer",{attrs:{size:"small"}}),s("h3",[e._v("Troubleshooting")]),s("p",[e._v("If you're curious at any time what the next release of ZUI will look like, you can execute the following command against the dev (or master) branch:")]),s("p",[e._v("dev:")]),s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",{pre:!0,attrs:{class:"language-shell"}},[s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" npx lerna version --conventional-prerelease"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("*")])]),s("p",[e._v("master:")]),s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",{pre:!0,attrs:{class:"language-shell"}},[s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" npx lerna version --conventional-graduate")])]),s("zui-well",{attrs:{type:"warning",static:""}},[e._v("Don't commit the changes generated as a result of this. You can reject the changes before the updates are saved to your repo.")]),s("hr"),s("h2",[e._v("Merge requests")]),s("p",[e._v('ZUI offers several merge request templates to help explain the intent of the changes. When you go to log a merge request, near the "title" section, you can select a template and we\'ll provide you some guidelines for how to better communicate the changes.')]),s("p",[e._v("Some quick best practices:")]),s("ul",[s("li",[e._v("Keep the merge request small; the monorepo structure might tempt you to make many changes all at once, but it's harder to review, and harder to properly associate your changes with the right packages.")]),s("li",[e._v('For "code review" merge requests, you can always prepend '),s("code",{pre:!0},[e._v("WIP:")]),e._v(" to the title to prevent accidental merging.")]),s("li",[e._v("Delete the source branch once it has been merged into dev.")]),s("li",[e._v("If your changes are isolated to one package, feel free to check the "),s("code",{pre:!0},[e._v("Squash commits when merge request is accepted.")]),e._v(" box. Just be sure that the title of the merge request (or the resulting commit message) follows our rules above.")]),s("li",[e._v("If your changes span many packages, don't squash the commits. Better to have targeted, explicit commits against the changed code than one blob commit that is hard for conventional-changelog to properly allocate to the right package(s).")])])],1)],1)],1)}),[],!1,null,null,null);"function"==typeof p&&p(_),"function"==typeof u&&u(_);t.default=_.exports}}]);